{% extends "global/Page.html" %}
{% load otree static %}

{% block title %}
    Acakan Pembayaran
{% endblock %}

{% block content %}

    Anda telah memilih ronde {{ round_select }} pada acakan pertama. Pada ronde tersebut, Anda telah membuat sebanyak
{{ decision_range }} pilihan alokasi untuk {% if two_allocations == True %}2 jenis barang (A dan B)
{% else %}1 jenis barang (A saja){% endif %}.
    <br>
    <br>
    {% if two_allocations == False %}
        Berikut adalah parameter dalam pilihan Anda: Mendapatkan {{x1G_selected}} kali lipat alokasi A dalam {{t1G_selected}}
        bulan ke depan dengan probabilitas {{threshold_G}} persen <i>atau</i> mendapatkan {{x2G_selected}} kali lipat alokasi A dalam
        {{t2G_selected}} bulan ke depan dengan probabilitas 100 - {{ threshold_G }} persen.
        <br>
        Jika angka acakan A di bawah besarnya kurang dari atau sama dengan {{threshold_G}}, maka Anda akan mendapatkan {{x1G_selected}} kali lipat alokasi A
        dalam {{t1G_selected}} bulan ke depan. Jika lebih dari {{threshold_G}}, maka Anda akan mendapatkan {{x2G_selected}} kali lipat alokasi A dalam
        {{t2G_selected}} bulan ke depan.

    {% else %}
        Berikut adalah parameter dalam pilihan Anda:
            <ul>
            <li>Mendapatkan {{x1G_selected}} kali lipat alokasi A dalam {{t1G_selected}}
            bulan ke depan dengan probabilitas {{threshold_G}} persen <i>atau</i> mendapatkan {{x2G_selected}} kali lipat alokasi A dalam
            {{t2G_selected}} bulan ke depan dengan probabilitas 100 - {{ threshold_G }} persen, DAN</li>
            <li>Mendapatkan {{x1B_selected}} kali lipat alokasi A dalam {{t1B_selected}}
            bulan ke depan dengan probabilitas {{threshold_B}} persen <i>atau</i> mendapatkan {{x2B_selected}} kali lipat alokasi A dalam
            {{t2B_selected}} bulan ke depan dengan probabilitas 100 - {{ threshold_G }} persen.</li>
            </ul>
        <br>
        Berikut adalah aturan pembayaran Anda:
            <ul>
                <li>
                    Jika angka acakan A di bawah besarnya kurang dari atau sama dengan {{threshold_G}}, maka Anda akan mendapatkan {{x1G_selected}} * {{allocated_G}}
        dalam {{t1G_selected}} bulan ke depan. Jika lebih dari {{threshold_G}}, maka Anda akan mendapatkan {{x2G_selected}} * {{allocated_G}} dalam
        {{t2G_selected}} bulan ke depan.
                </li>
                <li>
                    Jika angka acakan B di bawah besarnya kurang dari atau sama dengan {{threshold_B}}, maka Anda akan mendapatkan {{x1B_selected}} * {{allocated_B}}
        dalam {{t1B_selected}} bulan ke depan. Jika lebih dari {{threshold_B}}, maka Anda akan mendapatkan {{x2B_selected}} * {{allocated_B}} dalam
        {{t2B_selected}} bulan ke depan.
                </li>
            </ul>


    {% endif %}
    <br>
    <br>
    <div class="card bg-light text-dark" id="randomizer1">
        <div class="card-body">
            <div align="center">
                    <tr>
                        <td>Acakan A:</td>
                        <td><b><text id="dice1" style="font-size:300%">???</text></b></td>
                    </tr>
                <br>
                <button id="roll1" onclick="AniDice1()" type="button">Mulai Mengacak!</button>
                <button id="stop1" onclick="stopDice1()" type="button" disabled="true">Hentikan!</button>
            </div>
            <input type="hidden" name="urn_G" id="var1" value="">
            <p id="result1" style="visibility:hidden">Simak aturan di atas untuk melihat hasil Anda.<br></p>
        </div>
    </div>

    {% if show_uncertain_prob_B == True %}

    <br>
    <br>
    <div class="card bg-light text-dark" id="randomizer2">
        <div class="card-body">
            <div align="center">
                    <tr>
                        <td>Acakan B:</td>
                        <td><b><text id="dice2" style="font-size:300%">???</text></b></td>
                    </tr>
                <br>
                <button id="roll2" onclick="AniDice2()" type="button">Mulai Mengacak!</button>
                <button id="stop2" onclick="stopDice2()" type="button" disabled="true">Hentikan!</button>
            </div>
            <input type="hidden" name="urn_B" id="var2" value="">
            <p id="result2" style="visibility:hidden">Simak aturan di atas untuk melihat hasil Anda.<br></p>
        </div>
    </div>

    {% else %}
    <input type="hidden" name="urn_B" id="var2" value=0>
    {% endif %}

    <button id="next" class="otree-btn-next btn btn-primary next-button otree-next-button">Lanjutkan ke Acakan Berikutnya<br></button>

{% endblock %}

{% block scripts %}

    <script type="text/javascript">
        function AniDice1(){
            document.getElementById("roll1").disabled = true;
            document.getElementById("stop1").disabled = false;
            MyVar1=setInterval(rolldice1,20);
        }
        function rolldice1(){
            var ranNum = Math.floor( 1 + Math.random() * 100 );
            document.getElementById("dice1").innerHTML = ranNum;
            document.getElementById("var1").value = ranNum;
        }
        function stopDice1(){
            document.getElementById("result1").style.visibility = "visible";
            clearInterval(MyVar1);
        }

        function AniDice2(){
            document.getElementById("roll2").disabled = true;
            document.getElementById("stop2").disabled = false;
            MyVar2=setInterval(rolldice2,20);
        }
        function rolldice2(){
            var ranNum = Math.floor( 1 + Math.random() * 100 );
            document.getElementById("dice2").innerHTML = ranNum;
            document.getElementById("var2").value = ranNum;
        }
        function stopDice2(){
            document.getElementById("result2").style.visibility = "visible";
            clearInterval(MyVar2);
        }
    </script>

{% endblock %}